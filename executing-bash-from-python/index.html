<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="Recently, I've been playing with [Python], I thought I would toss up this writeup I found on executing commands via [Python] I found as a follow up to my [Executing BASH Commmands in Ruby](http://mervine.net/2012/09/05/executing_bash_from_ruby) post." name="description">
<meta content="bash, python" name="keywords">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="" name="author">
<link href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="//cdn.mervine.net/bootstrap/master.css" media="screen" rel="stylesheet">
<!--[if lte IE 6]>
      <link href='http://universal-ie6-css.googlecode.com/files/ie6.1.1.css' media='screen, projection' rel='stylesheet'>
    <![endif]--><!--[if lt IE 9]>
      <script src='//html5shim.googlecode.com/svn/trunk/html5.js'></script>
    <![endif]--><link href="/articles.xml" rel="alternate" type="application/atom+xml">
<link href="//cdn.mervine.net/bootstrap/favicon.ico" rel="shortcut icon">
<link href="//cdn.mervine.net/bootstrap/images/apple-touch-icon.png" rel="apple-touch-icon">
<link href="//cdn.mervine.net/bootstrap/images/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72">
<link href="//cdn.mervine.net/bootstrap/images/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114">
<title>Executing BASH from Python</title>
</head>
<body style="padding-top: 10px !important">
    <div class="container">
      <div class="navbar navbar-default navbar-top" style="margin-bottom: 0px !important">
        <div class="navbar-header">
          <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Home</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
<li class="">
              <a href="http://mervine.net/categories">Category List</a>
            </li>
            <li class="">
              <a href="http://mervine.net/projects">My Projects</a>
            </li>
            <li class="">
              <a href="http://mervine.net/notes">Notes</a>
            </li>
            <li class="">
              <a href="http://mervine.net/hacks">Hacks</a>
            </li>
            <li class="">
              <a href="http://mervine.net/quotes">Quotes</a>
            </li>
            <li class="">
              <a href="http://mervine.net/archive">Archives</a>
            </li>
          </ul>
<ul class="nav navbar-nav navbar-right visible-xs">
<li>
              <a href="http://twitter.com/mervinej">Twitter</a>
            </li>
            <li>
              <a href="http://linkedin.com/in/mervinej">Linkedin</a>
            </li>
            <li>
              <a href="http://github.com/jmervine">Github</a>
            </li>
            <li>
              <a href="http://www.gittip.com/jmervine">Gittip</a>
            </li>
          </ul>
</div>
      </div>
      <div class="container">
        <div class="page-header" style="margin-top: 0px !important;">
          <img src="http://www.gravatar.com/avatar/ed808193b8c2c8516715816f90a005b2.jpg?s=75" style="padding:5px 15px 15px; float:left"><a href="http://mervine.net/">
            <h1>mervine.net</h1>
          </a><small>Lessons learned, code written, hacks, etc.</small>
        </div>
      </div>
      <div class="container">
        <div class="col-sm-12 col-md-9">
          <div class="page_content container">
  <div class="page_content">
    <h1>Executing BASH from Python</h1>

<p>Recently, I've been playing with <a href="http://www.python.org/">Python</a>, I thought I would toss up this writeup I found on executing commands via <a href="http://www.python.org/">Python</a> I found as a follow up to my <a href="http://mervine.net/2012/09/05/executing_bash_from_ruby">Executing BASH Commmands in Ruby</a> post.</p>

<p>Source: <a href="http://stackoverflow.com/questions/89228/calling-an-external-command-in-python">http://stackoverflow.com/questions/89228/calling-an-external-command-in-python</a></p>

<hr>
<p>Here's a summary of the ways to call external programs and the advantages and disadvantages of each:</p>

<ol>
<li><p><code>os.system("some_command with args")</code> passes the command and arguments to your system's shell. This is nice because you can actually run multiple commands at once in this manner and set up pipes and input/output redirection. For example, <code>os.system("some_command &lt; input_file | another_command &gt; output_file")</code> However, while this is convenient, you have to manually handle the escaping of shell characters such as spaces, etc. On the other hand, this also lets you run commands which are simply shell commands and not actually external programs. <a href="http://docs.python.org/lib/os-process.html">http://docs.python.org/lib/os-process.html</a></p></li>
<li><p><code>stream = os.popen("some_command with args")</code> will do the same thing as os.system except that it gives you a file-like object that you can use to access standard input/output for that process. There are 3 other variants of popen that all handle the i/o slightly differently. If you pass everything as a string, then your command is passed to the shell; if you pass them as a list then you don't need to worry about escaping anything. <a href="http://docs.python.org/lib/os-newstreams.html">http://docs.python.org/lib/os-newstreams.html</a></p></li>
<li><p>The Popen class of the subprocess module. This is intended as a replacement for os.popen but has the downside of being slightly more complicated by virtue of being so comprehensive. For example, you'd say <code>print Popen("echo Hello World", stdout=PIPE, shell=True).stdout.read()</code> instead of <code>print os.popen("echo Hello World").read()</code> but it is nice to have all of the options there in one unified class instead of 4 different popen functions. <a href="http://docs.python.org/lib/node528.html">http://docs.python.org/lib/node528.html</a></p></li>
<li><p>The call function from the subprocess module. This is basically just like the Popen class and takes all of the same arguments, but it simply wait until the command completes and gives you the return code. For example: <code>return_code = call("echo Hello World", shell=True)</code> <a href="http://docs.python.org/lib/node529.html">http://docs.python.org/lib/node529.html</a></p></li>
<li><p>The os module also has all of the fork/exec/spawn functions that you'd have in a C program, but I don't recommend using them directly.</p></li>
</ol>
<hr>
<p>In addition the to five above, there's one more worth noting. <a href="http://www.noah.org/wiki/pexpect">pexpect</a>, which is a python implementation of <a href="http://en.wikipedia.org/wiki/Expect">Expect</a>. Here's a simple example:</p>

<pre class="twilight"><span class="Keyword">import</span> pexect
child <span class="Keyword">=</span> pexpect(<span class="String"><span class="String">"</span>echo <span class="StringConstant">\"</span>foo<span class="StringConstant">\"</span>)<span class="InvalidIllegal"></span></span>
child.expect(<span class="String"><span class="String">"</span>foo<span class="String">"</span></span>, <span class="Variable">timeout</span><span class="Keyword">=</span><span class="Constant">10</span>) <span class="Comment"><span class="Comment">#</span> timeout in seconds</span>
child.sendline(<span class="String"><span class="String">"</span>echo <span class="StringConstant">\"</span>bar<span class="StringConstant">\"</span>)<span class="InvalidIllegal"></span></span>
child.expect(<span class="String"><span class="String">"</span>bar<span class="String">"</span></span>, <span class="Variable">timeout</span><span class="Keyword">=</span><span class="Constant">10</span>)
child.interact() <span class="Comment"><span class="Comment">#</span> gives control to the user</span>
</pre>
    <footer><p class="meta">
        Published
        on
        <time datetime="2012-09-15T13:08:00+00:00" pubdate>15 September 2012</time>
        in
        <a href="http://mervine.net/bash">Bash</a>,
        <a href="http://mervine.net/python">Python</a>
      </p>
    </footer><hr class="article_seperator">
<br><div id="disqus_thread">
      <script async src="http://rubyops.disqus.com/embed.js" type="text/javascript"></script><noscript>
        <a href="http://rubyops.disqus.com/embed.js?url=ref">View comments.</a>
      </noscript>
    </div>
  </div>
</div>
        </div>
        <div class="col-md-3 visible-md visible-lg">
          <div class="sidebar-nav">
              <ul class="share-buttons">
<li>
                  <a href="https://www.facebook.com/sharer/sharer.php?u=http://mervine.net/executing-bash-from-python" target="_blank">
                    <img src="//cdn.mervine.net/bootstrap/images/simple_icons/Facebook.png"></a>
                </li>
                <li>
                  <a href="https://twitter.com/intent/tweet?url=http://mervine.net/executing-bash-from-python&amp;text=Executing%20BASH%20from%20Python%20-%20&amp;via=mervinej" target="_blank" title="Tweet">
                    <img src="//cdn.mervine.net/bootstrap/images/simple_icons/Twitter.png"></a>
                </li>
                <li>
                  <a href="https://plus.google.com/share?url=http://mervine.net/executing-bash-from-python" target="_blank" title="Share on Google+">
                    <img src="//cdn.mervine.net/bootstrap/images/simple_icons/Google.png"></a>
                </li>
                <li>
                  <a href="http://www.reddit.com/submit?url=http://mervine.net/executing-bash-from-python&amp;title=Executing%20BASH%20from%20Python" target="_blank" title="Submit to Reddit">
                    <img src="//cdn.mervine.net/bootstrap/images/simple_icons/Reddit.png"></a>
                </li>
                <li>
                  <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://mervine.net/executing-bash-from-python&amp;title=Executing%20BASH%20from%20Python&amp;source=http://mervine.net/executing-bash-from-python" target="_blank" title="Share on LinkedIn">
                    <img src="//cdn.mervine.net/bootstrap/images/simple_icons/LinkedIn.png"></a>
                </li>
              </ul>
<div class="list-group">
<a class="list-group-item active" href="http://joshua.mervine.net/">
                  <h4 class="list-group-item-heading">Joshua P. Mervine</h4>
                </a><a class="list-group-item" href="http://twitter.com/mervinej">Twitter</a>
            <a class="list-group-item" href="http://linkedin.com/in/mervinej">Linkedin</a>
            <a class="list-group-item" href="http://github.com/jmervine">Github</a>
            <a class="list-group-item" href="http://www.gittip.com/jmervine">Gittip</a>
              </div>
            </div>
        </div>
      </div>
      <center>
        <br><div id="footer">
            <div class="container">
              <p class="muted credit">
                Powered by Nesta, a
                <a href="http://nestacms.com">Ruby CMS</a>.
              </p>
            </div>
          </div>
      </center>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script async src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js" type="text/javascript"></script><script>
      var searchElement = 'input[name=q]';
    </script><script async src="//cdn.jsdelivr.net/jquery.webpage-vim/0.1/vim.min.js" type="text/javascript"></script><script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32343843-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
</body>
</html>
